# Task 1.5 Testing Instructions
## Install and Configure Walrus SDK

### Prerequisites
- Task 1.1 completed (Supabase dependencies installed)
- Task 1.2 completed (Environment variables configured)
- Task 1.3 completed (Database schema created)
- Task 1.4 completed (Supabase client utilities implemented)

---

## Step 1: Verify Package Installation

1. **Check package.json**
   ```bash
   cd frontend
   cat package.json | grep -A 2 "@mysten/walrus"
   ```

2. **Expected Output:**
   ```json
   "@mysten/walrus": "^0.8.0"
   ```

---

## Step 2: Verify Installed Version

1. **Check installed version**
   ```bash
   npm list @mysten/walrus
   ```

2. **Expected Output:**
   ```
   thriftchain@0.1.0 /path/to/frontend
   └── @mysten/walrus@0.8.x
   ```

---

## Step 3: Verify No Errors in Installation

1. **Check for vulnerabilities**
   ```bash
   npm audit
   ```

2. **Expected**: No high or critical vulnerabilities for @mysten/walrus

---

## Step 4: Check Package Contents

1. **List package files**
   ```bash
   ls -la node_modules/@mysten/walrus/
   ```

2. **Expected**: Directory should contain:
   - `package.json`
   - `dist/` or `lib/` folder
   - `README.md`

---

## Step 5: Test Import (Optional)

1. **Create a simple test file**
   ```bash
   cat > test-walrus.mjs << 'EOF'
   import { Walrus } from '@mysten/walrus';
   console.log('✅ @mysten/walrus imported successfully');
   console.log('Walrus class:', Walrus);
   EOF
   ```

2. **Run the test**
   ```bash
   node test-walrus.mjs
   ```

3. **Expected Output:**
   ```
   ✅ @mysten/walrus imported successfully
   Walrus class: [class or function]
   ```

4. **Clean up**
   ```bash
   rm test-walrus.mjs
   ```

---

## Step 6: Verify TypeScript Types Available

1. **Check if types are available**
   ```bash
   ls -la node_modules/@mysten/walrus/ | grep -E "\.d\.ts|types"
   ```

2. **Expected**: Should have TypeScript declaration files (`.d.ts`)

---

## Step 7: Check for Peer Dependencies

1. **Check if any peer dependencies are missing**
   ```bash
   npm list --depth=0 | grep "@mysten"
   ```

2. **Expected**: Should show:
   - `@mysten/walrus`
   - `@mysten/sui` (if already installed)

---

## Success Criteria Checklist

- [x] `@mysten/walrus` is listed in `package.json` dependencies
- [x] Package is installed in `node_modules/@mysten/walrus/`
- [x] No installation errors reported
- [x] Package version is `^0.8.x`
- [x] Can import the package without errors
- [x] TypeScript types are available
- [x] No critical vulnerabilities in the package

---

## Troubleshooting

### Error: "Cannot find module '@mysten/walrus'"
**Solution:**
```bash
cd frontend
npm install
```

### Package not found in npm registry
**Solution:**
1. Check internet connection
2. Try: `npm cache clean --force`
3. Reinstall: `npm install @mysten/walrus`

### Peer dependency warnings
**Solution:**
These are usually warnings, not errors. Install peer dependencies if needed:
```bash
npm install @mysten/sui
```

### TypeScript errors with Walrus
**Solution:**
The package should include its own TypeScript definitions. If not, check if types are in a separate package like `@mysten/walrus-types`.

### Version conflicts with @mysten/sui
**Solution:**
```bash
npm install @mysten/sui@latest @mysten/walrus@latest
```

---

## Additional Notes

### About @mysten/walrus

- **Version**: 0.8.x (latest as of implementation)
- **Provider**: Mysten Labs
- **Purpose**: Decentralized blob storage on Sui blockchain
- **Integration**: Works seamlessly with Sui ecosystem

### Documentation Links

- Official Documentation: https://docs.wal.app/
- GitHub: https://github.com/MystenLabs/walrus
- NPM Package: https://www.npmjs.com/package/@mysten/walrus

### Next Steps

After installing the SDK, you can:
1. Import Walrus client in your code
2. Configure Walrus endpoint
3. Upload files to Walrus
4. Store blob references in database

---

## Next Steps

After completing Task 1.5, proceed to **Task 1.6**: Create Walrus client wrapper (`lib/walrus/client.ts`) with image upload functionality
