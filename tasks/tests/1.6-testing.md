# Task 1.6 Testing Instructions
## Deploy contracts to Sui testnet

### Prerequisites
- Task 1.1-1.5 completed (Move contract structure and functions)
- Sui CLI installed and configured for testnet
- Testnet wallet with sufficient SUI balance
- Move contracts compile successfully

---

## Step 1: Verify Contract Compilation

1. **Action to perform**: Navigate to contracts directory and build contracts
2. **Expected output**: Build succeeds with warnings (no errors)
3. **Verification method**: Run `sui move build` command
4. **Success criteria**: No compilation errors, only warnings about unused variables and linting

```bash
cd contracts/marketplace
sui move build
```

---

## Step 2: Check Sui Client Configuration

1. **Action to perform**: Verify Sui client is configured for testnet
2. **Expected output**: Shows testnet environment as active
3. **Verification method**: Run `sui client envs` and `sui client active-address`
4. **Success criteria**: Testnet environment is active, address is valid

```bash
sui client envs
sui client active-address
```

---

## Step 3: Verify Gas Balance

1. **Action to perform**: Check available SUI balance for deployment
2. **Expected output**: Shows sufficient balance (at least 1 SUI recommended)
3. **Verification method**: Run `sui client gas`
4. **Success criteria**: Balance shows at least 1 SUI (1,000,000,000 MIST)

```bash
sui client gas
```

---

## Step 4: Deploy Contracts to Testnet

1. **Action to perform**: Publish contracts to Sui testnet
2. **Expected output**: Transaction succeeds, returns package ID and object IDs
3. **Verification method**: Run `sui client publish` command
4. **Success criteria**: Transaction digest returned, no errors

```bash
sui client publish --gas-budget 100000000
```

**Expected output includes:**
- Transaction Digest: `CyUzeTMwJGJZ7aZ1DHGsJHqBzNy19JpBawThN6YLqisK`
- Package ID: `0x87cb74e7f9f4f5e0c49615537e43f500b9ff836a85aef150d2bbb45e9eb51aca`
- Created Objects section with UpgradeCap, Marketplace, and ItemCap

---

## Step 5: Verify Package Deployment

1. **Action to perform**: Query the deployed package to confirm it exists
2. **Expected output**: Package object details returned
3. **Verification method**: Run `sui client object <package-id>`
4. **Success criteria**: Package object exists and shows module information

```bash
sui client object 0x87cb74e7f9f4f5e0c49615537e43f500b9ff836a85aef150d2bbb45e9eb51aca
```

---

## Step 6: Verify Sui Explorer Access

1. **Action to perform**: Open Sui Explorer in browser
2. **Expected output**: Package visible on Sui Explorer
3. **Verification method**: Navigate to package URL
4. **Success criteria**: Package page loads, shows contract details

**Sui Explorer URLs:**
- Package: https://suiexplorer.com/object/0x87cb74e7f9f4f5e0c49615537e43f500b9ff836a85aef150d2bbb45e9eb51aca?network=testnet
- Marketplace: https://suiexplorer.com/object/0x2ad84d8f6027511574397df1f648b203ec4fb1d635601a1d70238822f37f4a0f?network=testnet

---

## Success Criteria Checklist

- [x] **Contract compilation successful**: `sui move build` returns success
- [x] **Sui client configured**: Testnet environment active
- [x] **Sufficient gas balance**: At least 1 SUI available
- [x] **Deployment successful**: Transaction digest returned
- [x] **Package ID saved**: `0x87cb74e7f9f4f5e0c49615537e43f500b9ff836a85aef150d2bbb45e9eb51aca`
- [x] **Object IDs saved**: UpgradeCap, Marketplace, ItemCap IDs recorded
- [x] **Package queryable**: `sui client object` returns package details
- [x] **Sui Explorer accessible**: Package visible on explorer

---

## Troubleshooting

### Common Error: "Unresolved addresses found"
**Solution:** Update Move.toml to set proper address:
```toml
[addresses]
thriftchain = "0x0"
```

### Common Error: "Insufficient gas balance"
**Solution:** Get test SUI from faucet:
```bash
sui client faucet
```

### Common Error: "Transaction failed"
**Solution:** Check gas budget, increase if needed:
```bash
sui client publish --gas-budget 200000000
```

### Sui-Specific Errors

#### "Package not found after deployment"
**Solution:** Wait 30 seconds for network propagation, then retry query

#### "Gas budget exceeded"
**Solution:** Increase gas budget or optimize contract size

#### "Network connection failed"
**Solution:** Check internet connection and Sui RPC endpoint

---

## Next Steps

After completing Task 1.6, proceed to **Task 1.7**: Update frontend config with deployed contract address

**Key information to share with team:**
- Package ID: `0xe1b7d6993448d0c3b79e92432be9b13a8db8470bef0e3ce20402f9cef9bf018c`
- Marketplace ID: `0x8e403319393e796ab146ad534d0c247a387a161a6ee93667af287d7fc9e43630`
- ItemCap ID: `0x8a1c7241eabff35cef4d9da3ad5f6adf018cc0264f22be1b5d0f107692da51f4`
- Transaction: `CyUzeTMwJGJZ7aZ1DHGsJHqBzNy19JpBawThN6YLqisK`

